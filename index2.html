<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recherche de Biens Booking.com</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f8f8f8; margin: 0; }
    .container { max-width: 900px; margin: 30px auto; background: #fff; border-radius: 12px; box-shadow: 0 2px 8px #ddd; padding: 24px; }
    .filters { display: flex; gap: 16px; margin-bottom: 20px; }
    .card { background: #f0f0f0; border-radius: 10px; padding: 18px; margin-bottom: 16px; box-shadow: 0 1px 4px #ccc; }
    .card h3 { margin-top: 0; }
    @media (max-width: 600px) {
      .filters { flex-direction: column; }
      .container { padding: 10px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Biens Booking.com</h1>
    <div class="filters">
      <select id="availabilityFilter">
        <option value="all">Tous</option>
        <option value="available">Disponibles</option>
        <option value="reserved">Réservés</option>
      </select>
      <button onclick="fetchProperties()">Rechercher</button>
    </div>
    <div id="results"></div>
  </div>

  <script>
    async function fetchProperties() {
      const filter = document.getElementById('availabilityFilter').value;
      // Remplace l'URL ci-dessous par l'endpoint réel de l’API Booking ou de ton fournisseur partenaire
      const apiUrl = 'https://api.booking.com/properties?city=Paris'; // EXEMPLE
      const apiKey = 'VOTRE_CLE_API'; // À remplacer

      try {
        const response = await fetch(apiUrl, {
          headers: { 'Authorization': `Bearer ${apiKey}` }
        });
        const data = await response.json();

        // Supposons que chaque bien a un champ "is_available" (booléen)
        let properties = data.properties || [];

        if (filter === 'available') {
          properties = properties.filter(p => p.is_available);
        } else if (filter === 'reserved') {
          properties = properties.filter(p => !p.is_available);
        }

        displayResults(properties);
      } catch (error) {
        document.getElementById('results').innerHTML = "<p>Erreur lors du chargement des biens.</p>";
      }
    }

    function displayResults(properties) {
      const results = document.getElementById('results');
      if (!properties.length) {
        results.innerHTML = "<p>Aucun bien trouvé.</p>";
        return;
      }
      results.innerHTML = properties.map(p => `
        <div class="card">
          <h3>${p.name}</h3>
          <p>${p.address}</p>
          <p><strong>${p.is_available ? "Disponible" : "Réservé"}</strong></p>
        </div>
      `).join('');
    }

    // Chargement initial
    fetchProperties();
  </script>
</body>
</html>
